!function(t,i,s,e){"use strict";var o=function(){return this.init.apply(this,arguments)};o.prototype={defaults:{onstatechange:function(){},isRange:!1,showLabels:!0,showScale:!0,step:1,format:"%s",theme:"theme-yellow",width:300,disable:!1},template:'<div class="slider-container">\t\t\t<div class="back-bar">                <div class="selected-bar"></div>                <div class="pointer low"></div><div class="pointer-label"></div>                <div class="pointer high"></div><div class="pointer-label"></div>                <div class="clickable-dummy"></div>            </div>            <div class="scale"></div>\t\t</div>',init:function(i,s){this.options=t.extend({},this.defaults,s),this.inputNode=t(i),this.options.value=this.inputNode.val()||(this.options.isRange?this.options.from+","+this.options.from:this.options.from),this.domNode=t(this.template),this.domNode.addClass(this.options.theme),this.inputNode.after(this.domNode),this.domNode.on("change",this.onChange),this.pointers=t(".pointer",this.domNode),this.lowPointer=this.pointers.first(),this.highPointer=this.pointers.last(),this.labels=t(".pointer-label",this.domNode),this.lowLabel=this.labels.first(),this.highLabel=this.labels.last(),this.scale=t(".scale",this.domNode),this.bar=t(".selected-bar",this.domNode),this.clickableBar=this.domNode.find(".clickable-dummy"),this.interval=this.options.to-this.options.from,this.render()},render:function(){0!==this.inputNode.width()||this.options.width?(this.domNode.width(this.options.width||this.inputNode.width()),this.inputNode.hide(),this.isSingle()&&(this.lowPointer.hide(),this.lowLabel.hide()),this.options.showLabels||this.labels.hide(),this.attachEvents(),this.options.showScale&&this.renderScale(),this.setValue(this.options.value)):console.log("zptSlider : no width found, returning")},isSingle:function(){return"number"==typeof this.options.value||!(-1!==this.options.value.indexOf(",")||this.options.isRange)},attachEvents:function(){this.clickableBar.click(t.proxy(this.barClicked,this)),this.pointers.on("mousedown touchstart",t.proxy(this.onDragStart,this)),this.pointers.bind("dragstart",(function(t){t.preventDefault()}))},onDragStart:function(i){if(!(this.options.disable||"mousedown"===i.type&&1!==i.which)){i.stopPropagation(),i.preventDefault();var e=t(i.target);this.pointers.removeClass("last-active"),e.addClass("focused last-active"),this[(e.hasClass("low")?"low":"high")+"Label"].addClass("focused"),t(s).on("mousemove.slider touchmove.slider",t.proxy(this.onDrag,this,e)),t(s).on("mouseup.slider touchend.slider touchcancel.slider",t.proxy(this.onDragEnd,this))}},onDrag:function(t,i){i.stopPropagation(),i.preventDefault(),i.touches&&i.touches.length?i=i.touches[0]:i.changedTouches&&i.changedTouches.length&&(i=i.changedTouches[0]);var s=i.clientX-this.domNode.offset().left;this.domNode.trigger("change",[this,t,s])},onDragEnd:function(i){this.pointers.removeClass("focused"),this.labels.removeClass("focused"),t(s).off(".slider")},barClicked:function(t){if(!this.options.disable){var i=t.pageX-this.clickableBar.offset().left;if(this.isSingle())this.setPosition(this.pointers.last(),i,!0,!0);else{var s=Math.abs(parseInt(this.pointers.first().css("left"),10)-i+this.pointers.first().width()/2)<Math.abs(parseInt(this.pointers.last().css("left"),10)-i+this.pointers.first().width()/2)?this.pointers.first():this.pointers.last();this.setPosition(s,i,!0,!0)}}},onChange:function(t,i,s,e){var o,n;i.isSingle()?(o=0,n=i.domNode.width()):(o=s.hasClass("high")?i.lowPointer.position().left+i.lowPointer.width()/2:0,n=s.hasClass("low")?i.highPointer.position().left+i.highPointer.width()/2:i.domNode.width());var a=Math.min(Math.max(e,o),n);i.setPosition(s,a,!0)},setPosition:function(t,i,s,e){var o,n=this.lowPointer.position().left,a=this.highPointer.position().left,h=this.highPointer.width()/2;s||(i=this.prcToPx(i)),t[0]===this.highPointer[0]?a=Math.round(i-h):n=Math.round(i-h),t[e?"animate":"css"]({left:Math.round(i-h)}),o=this.isSingle()?0:n+h,this.bar[e?"animate":"css"]({width:Math.round(a+h-o),left:o}),this.showPointerValue(t,i,e),this.isReadonly()},setValue:function(t){var i=t.toString().split(",");this.options.value=t;var s=this.valuesToPrc(2===i.length?i:[0,i[0]]);this.isSingle()||this.setPosition(this.lowPointer,s[0]),this.setPosition(this.highPointer,s[1])},renderScale:function(){for(var i=this.options.scale||[this.options.from,this.options.to],s=Math.round(100/(i.length-1)*10)/10,e="",o=0;o<i.length;o++)e+='<span style="left: '+o*s+'%">'+("|"!=i[o]?"<ins>"+i[o]+"</ins>":"")+"</span>";this.scale.html(e),t("ins",this.scale).each((function(){t(this).css({marginLeft:-t(this).width()/2})}))},getBarWidth:function(){var t=this.options.value.split(",");return t.length>1?parseInt(t[1],10)-parseInt(t[0],10):parseInt(t[0],10)},showPointerValue:function(i,s,e){var o,n=t(".pointer-label",this.domNode)[i.hasClass("low")?"first":"last"](),a=this.positionToValue(s);if(t.isFunction(this.options.format)){var h=this.isSingle()?undefined:i.hasClass("low")?"low":"high";o=this.options.format(a,h)}else o=this.options.format.replace("%s",a);var l=n.html(o).width(),r=s-l/2;r=Math.min(Math.max(r,0),this.options.width-l),n[e?"animate":"css"]({left:r}),this.setInputValue(i,a)},valuesToPrc:function(t){return[100*(t[0]-this.options.from)/this.interval,100*(t[1]-this.options.from)/this.interval]},prcToPx:function(t){return this.domNode.width()*t/100},positionToValue:function(t){var i=t/this.domNode.width()*this.interval;return i+=this.options.from,Math.round(i/this.options.step)*this.options.step},setInputValue:function(t,i){if(this.isSingle())this.options.value=i.toString();else{var s=this.options.value.split(",");t.hasClass("low")?this.options.value=i+","+s[1]:this.options.value=s[0]+","+i}this.inputNode.val()!==this.options.value&&(this.inputNode.val(this.options.value),this.options.onstatechange.call(this,this.options.value))},getValue:function(){return this.options.value},isReadonly:function(){this.domNode.toggleClass("slider-readonly",this.options.disable)},disable:function(){this.options.disable=!0,this.isReadonly()},enable:function(){this.options.disable=!1,this.isReadonly()},toggleDisable:function(){this.options.disable=!this.options.disable,this.isReadonly()}};t.fn.zptSlider=function(s){var e,n=arguments;return this.each((function(){var a=t(this),h=t.data(this,"plugin_zptSlider"),l="object"==typeof s&&s;h||(a.data("plugin_zptSlider",h=new o(this,l)),t(i).resize((function(){h.setValue(h.getValue())}))),"string"==typeof s&&(e=h[s].apply(h,Array.prototype.slice.call(n,1)))})),e||this}}($,window,document),function(t){var i={},s=t.fn.data,e=t.camelCase,o=t.expando="Zepto"+ +new Date,n=[];function a(s,a,h){var l=s[o]||(s[o]=++t.uuid),r=i[l]||(i[l]=function(i){var s={};return t.each(i.attributes||n,(function(i,o){0==o.name.indexOf("data-")&&(s[e(o.name.replace("data-",""))]=t.zepto.deserializeValue(o.value))})),s}(s));return void 0!==a&&(r[e(a)]=h),r}t.fn.data=function(n,h){return void 0===h?t.isPlainObject(n)?this.each((function(i,s){t.each(n,(function(t,i){a(s,t,i)}))})):0 in this?function(n,h){var l=n[o],r=l&&i[l];if(void 0===h)return r||a(n);if(r){if(h in r)return r[h];var d=e(h);if(d in r)return r[d]}return s.call(t(n),h)}(this[0],n):void 0:this.each((function(){a(this,n,h)}))},t.data=function(i,s,e){return t(i).data(s,e)},t.hasData=function(s){var e=s[o],n=e&&i[e];return!!n&&!t.isEmptyObject(n)},t.fn.removeData=function(s){return"string"==typeof s&&(s=s.split(/\s+/)),this.each((function(){var n=this[o],a=n&&i[n];a&&t.each(s||a,(function(t){delete a[s?e(this):t]}))}))},["remove","empty"].forEach((function(i){var s=t.fn[i];t.fn[i]=function(){var t=this.find("*");return"remove"===i&&(t=t.add(this)),t.removeData(),s.call(this)}}))}($);