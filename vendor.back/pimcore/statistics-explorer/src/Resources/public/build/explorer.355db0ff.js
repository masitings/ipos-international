(window.webpackJsonp=window.webpackJsonp||[]).push([["explorer"],{WM5q:function(e,t,n){"use strict";n("07d7"),n("5s+n"),n("ls82");function a(e,t,n,a,r,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,l,"next",e)}function l(e){a(i,r,o,s,l,"throw",e)}s(void 0)}))}}
/**
 * Pimcore
 *
 * This source file is available under following license:
 * - Pimcore Enterprise License (PEL)
 *
 *  @copyright  Copyright (c) Pimcore GmbH (http://www.pimcore.org)
 *  @license    http://www.pimcore.org/license     PEL
 */function o(){return(o=r(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=9;break}return e.next=3,t.json();case 3:if((n=e.sent).success){e.next=8;break}throw Error(n.message);case 8:throw Error(t.statusText);case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.a=function(e){return o.apply(this,arguments)}},nb4v:function(e,t,n){"use strict";n.r(t);n("z7dE");var a=n("q1tI"),r=n.n(a),o=n("i8i4"),i=n.n(o),s=(n("ma9I"),n("TeQF"),n("fbCW"),n("yq1k"),n("4mDm"),n("2B1R"),n("+2oP"),n("Rfxz"),n("pDQq"),n("DQNa"),n("wLYn"),n("sMBO"),n("NBAS"),n("ExoC"),n("07d7"),n("5s+n"),n("rB9j"),n("JfAA"),n("JTJg"),n("PKPk"),n("EnZy"),n("3bBZ"),n("Kz25"),n("QojX")),l=n("6xyR"),c=n("3Z9Z"),u=n("JI6e"),f=n("cWnB"),h=n("DZHF"),d=n("vz/u"),p=n("Cs6D"),m=n("WM5q"),y=!1,g={};function b(e){if(!y)return"";var t="statistics_container."+e;return g[t]?g[t]:e}
/**
 * Pimcore
 *
 * This source file is available under following license:
 * - Pimcore Enterprise License (PEL)
 *
 *  @copyright  Copyright (c) Pimcore GmbH (http://www.pimcore.org)
 *  @license    http://www.pimcore.org/license     PEL
 */function v(e){function t(t,n){var a={target:{name:t,value:n.value}};e.onUpdate(a)}var n=e.fields.filter((function(t){return t.value===e.filterValue.field})),a=[];n&&n[0]&&e.filterOperators[n[0].typeGroup]&&(a=e.filterOperators[n[0].typeGroup]);var o=a.filter((function(t){return t.value===e.filterValue.operator})),i=!1;return o&&o[0]&&(i=o[0].needsFilterValue),r.a.createElement("fieldset",{className:"border p-3 mb-2 position-relative"},r.a.createElement("legend",{className:"w-auto h6 px-2"},b("ttl_filter")),r.a.createElement("div",{className:"h6 px-1 text-muted delete-button cursor-pointer",onClick:e.onDelete},"x"),r.a.createElement(s.a.Row,null,r.a.createElement(s.a.Label,{column:"sm",lg:3},b("lbl_field"),":"),r.a.createElement(u.a,null,r.a.createElement(p.a,{options:e.fields,isMulti:!1,className:"filter-select sm",classNamePrefix:"filter-select",name:e.index+".field",onChange:t.bind(this,e.index+".field"),value:n}))),r.a.createElement(s.a.Row,null,r.a.createElement(s.a.Label,{column:"sm",lg:3},b("lbl_operator"),":"),r.a.createElement(u.a,null,r.a.createElement(p.a,{options:a,isMulti:!1,className:"filter-select sm",classNamePrefix:"filter-select",name:e.index+".operator",onChange:t.bind(this,e.index+".operator"),value:o}))),i&&r.a.createElement(s.a.Row,null,r.a.createElement(s.a.Label,{column:"sm",lg:3},b("lbl_filter"),":"),r.a.createElement(u.a,null,r.a.createElement(s.a.Control,{size:"sm",type:"text",placeholder:"",name:e.index+".filter",onChange:e.onUpdate,value:e.filterValue.filter}))))}fetch(statisticsExplorerConfig.translationsUrl).then(m.a).then((function(e){return e.json()})).then((function(e){g=e,y=!0})).catch((function(e){console.error(e),toast.error("Error loading translations.",{autoClose:!1})}));var S=function(e){return r.a.createElement(h.a,{className:"mb-3"},r.a.createElement(l.a,{style:{overflow:"visible"}},r.a.createElement(h.a.Toggle,{as:l.a.Header,eventKey:"0",className:"cursor-pointer small-header"},b("ttl_filters")),r.a.createElement(h.a.Collapse,{eventKey:"0"},r.a.createElement(l.a.Body,null,r.a.createElement(s.a,null,e.filters.map((function(t,n){return r.a.createElement(v,{key:n,filterValue:t,filterOperators:e.filterOperators,fields:e.fields,index:n,onUpdate:e.onUpdate.bind(this,"update"),onDelete:e.onUpdate.bind(this,"delete",n)})}))),r.a.createElement(c.a,null,r.a.createElement("div",{className:"mx-auto"},r.a.createElement(f.a,{style:{minWidth:100},className:"mr-1",size:"sm",variant:"outline-primary",onClick:e.onUpdate.bind(this,"add")},"+")))))))},E=(n("zKZe"),n("AdbC")),w=n("YJCA");function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}
/**
 * Pimcore
 *
 * This source file is available under following license:
 * - Pimcore Enterprise License (PEL)
 *
 *  @copyright  Copyright (c) Pimcore GmbH (http://www.pimcore.org)
 *  @license    http://www.pimcore.org/license     PEL
 */var _=Object(w.b)((function(e){var t={onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}};return r.a.createElement(E.f.MultiValue,C({},e,{innerProps:t}))})),O=Object(w.a)(p.a);function k(e){return r.a.createElement(O,{axis:"xy",onSortEnd:function(t){var n,a,r,o=t.oldIndex,i=t.newIndex,s=(n=e.value,a=o,r=i,(n=n.slice()).splice(r<0?n.length+r:r,0,n.splice(a,1)[0]),n);e.onChange(s),console.log("Values sorted:",s.map((function(e){return e.value})))},distance:4,getHelperDimensions:function(e){return e.node.getBoundingClientRect()},isMulti:!0,options:e.options,value:e.value,onChange:e.onChange,components:{MultiValue:_},closeMenuOnSelect:!0,className:e.className,placeholder:e.placeholder,name:e.name})}n("QWBl"),n("FZtP");var U=n("FGyW");function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function x(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=M(e);if(t){var r=M(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}
/**
 * Pimcore
 *
 * This source file is available under following license:
 * - Pimcore Enterprise License (PEL)
 *
 *  @copyright  Copyright (c) Pimcore GmbH (http://www.pimcore.org)
 *  @license    http://www.pimcore.org/license     PEL
 */function I(e){return r.a.createElement(s.a.Row,null,r.a.createElement(s.a.Label,{column:"sm",lg:3},e.label),r.a.createElement(u.a,null,r.a.createElement(s.a.Control,{name:e.name,size:"sm",type:"input",onChange:e.onChange,value:e.value})))}function F(e){return r.a.createElement(s.a.Row,null,r.a.createElement(s.a.Label,{column:"sm",lg:3},e.label),r.a.createElement(u.a,null,r.a.createElement(s.a.Control,{name:e.name,size:"sm",type:"number",onChange:e.onChange,value:e.value})))}function K(e){return r.a.createElement(s.a.Row,null,r.a.createElement(s.a.Label,{column:"sm",lg:3},e.label),r.a.createElement(u.a,null,r.a.createElement(s.a.Check,{type:"checkbox",name:e.name,size:"sm",onChange:e.onChange,checked:e.value})))}function B(e){return r.a.createElement(s.a.Row,null,r.a.createElement(s.a.Label,{column:"sm",lg:3},e.label),r.a.createElement(u.a,null,r.a.createElement(s.a.Control,{name:e.name,as:"select",value:e.value,size:"sm",custom:!0,onChange:e.onChange},e.options.map((function(e,t){return r.a.createElement("option",{key:t,value:e.value},e.label)})))))}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(i,e);var t,n,a,o=N(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).onSettingUpdate=t.onSettingUpdate.bind(R(t)),t}return t=i,(n=[{key:"getValues",value:function(){var e={typeGroup:this.props.typeGroup};return this.props.item.fields.forEach(function(t){void 0===this.props.fieldSettings[t.name]?e[t.name]=t.defaultValue:e[t.name]=this.props.fieldSettings[t.name]}.bind(this)),e}},{key:"componentDidMount",value:function(){this.props.handleChange(this.props.item.name,this.getValues())}},{key:"onSettingUpdate",value:function(e){var t=e.target.name,n="checkbox"===e.target.type?e.target.checked:e.target.value,a=this.getValues();a[t]=n,this.props.handleChange(this.props.item.name,a)}},{key:"componentWillUnmount",value:function(){this.props.handleChange(this.props.item.name,null)}},{key:"render",value:function(){var e={},t=[];return this.props.item.fields.forEach(function(t){var n=this.props.fieldSettings[t.name];void 0===n&&(n=t.defaultValue),e[t.name]=n}.bind(this)),this.props.item.fields.forEach(function(n){if(!n.visibleCheckField||e[n.visibleCheckField]===n.visibleCheckValue){var a=e[n.name];switch(n.type){case"input":t.push(r.a.createElement(I,{key:this.props.item.name+"_"+n.name,label:n.label,name:n.name,value:a,onChange:this.onSettingUpdate}));break;case"number":t.push(r.a.createElement(F,{key:this.props.item.name+"_"+n.name,label:n.label,name:n.name,value:a,onChange:this.onSettingUpdate}));break;case"checkbox":t.push(r.a.createElement(K,{key:this.props.item.name+"_"+n.name,label:n.label,name:n.name,value:a,onChange:this.onSettingUpdate}));break;case"select":t.push(r.a.createElement(B,{key:this.props.item.name+"_"+n.name,label:n.label,name:n.name,options:n.options,value:a,onChange:this.onSettingUpdate}))}}}.bind(this)),r.a.createElement("fieldset",{className:"border p-3 position-relative ".concat(this.props.className)},r.a.createElement("legend",{className:"w-auto h6 px-2"},this.props.item.label),t)}}])&&x(t.prototype,n),a&&x(t,a),i}(r.a.Component);function G(e){var t=D(Object(a.useState)([]),2),n=t[0],o=t[1],i=new URLSearchParams({dataSource:e.selectedDataSource.value,statisticMode:e.statisticMode,rows:JSON.stringify(e.rows),columns:JSON.stringify(e.columns)}),s=e.onUpdateSettings,c=e.fieldSettings;return Object(a.useEffect)((function(){fetch(e.loadFieldSettingsUrl+"?"+i).then(m.a).then((function(e){return e.json()})).then((function(e){o(e.fieldSettings)})).catch((function(e){console.error(e),U.b.error("Error loading field setting definitions.",{autoClose:!1})}))}),[i.toString()]),"statistic"===e.statisticMode&&(!e.rows||e.rows.length<1)||"list"===e.statisticMode&&(!e.columns||e.columns.length<1)?null:r.a.createElement(h.a,{className:"mb-3"},r.a.createElement(l.a,{style:{overflow:"visible"}},r.a.createElement(h.a.Toggle,{as:l.a.Header,eventKey:"0",className:"cursor-pointer small-header"},b("ttl_field_settings")),r.a.createElement(h.a.Collapse,{eventKey:"0"},r.a.createElement(l.a.Body,null,r.a.createElement("div",{className:"field-settings"},n.map((function(e){return r.a.createElement(A,{key:e.name,item:e,fieldSettings:c[e.name]||{},typeGroup:e.typeGroup,handleChange:s,className:"item"})})))))))}function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y(e);if(t){var r=Y(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Q(this,n)}}function Q(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?X(e):t}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}
/**
 * Pimcore
 *
 * This source file is available under following license:
 * - Pimcore Enterprise License (PEL)
 *
 *  @copyright  Copyright (c) Pimcore GmbH (http://www.pimcore.org)
 *  @license    http://www.pimcore.org/license     PEL
 */for(var $={changed:!1,indices:[],selectedDataSource:{},fields:[],filterOperators:{},statisticMode:"statistic",columns:[],rows:[],fieldSettings:{},chartType:null,filters:[],showTable:!0,showChart:!1,name:"",configurationId:null,configurationList:[],sharedUsers:[],sharedRoles:[],ownerShip:"owner",selectedConfigurationToLoad:null},ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(i,e);var t,n,a,o=q(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state=J({},$),t.onDataSourceSelect=t.onDataSourceSelect.bind(X(t)),t.onStatisticModeSelect=t.onStatisticModeSelect.bind(X(t)),t.onChartTypeSelect=t.onChartTypeSelect.bind(X(t)),t.updateFieldSettings=t.updateFieldSettings.bind(X(t)),t.updateFilters=t.updateFilters.bind(X(t)),t.saveConfiguration=t.saveConfiguration.bind(X(t)),t.deleteConfiguration=t.deleteConfiguration.bind(X(t)),t.loadConfiguration=t.loadConfiguration.bind(X(t)),t.updateConfigurationToLoad=t.updateConfigurationToLoad.bind(X(t)),t.updateName=t.updateName.bind(X(t)),t.resetState=t.resetState.bind(X(t)),t}return t=i,(n=[{key:"onDataSourceSelect",value:function(e){this.setState({changed:!0,selectedDataSource:e,fields:[],filterOperators:{},statisticMode:"statistic",columns:[],rows:[],fieldSettings:{},chartType:null,filters:[],showTable:!0,showChart:!1})}},{key:"resetState",value:function(){this.setState(J({},$)),document.body.scrollTop=0,document.documentElement.scrollTop=0,this.loadConfigurationList()}},{key:"onVisualizationChanges",value:function(e,t){this.setState(function(e,t,n,a){return V({changed:!0},e,t)}.bind(this,e,t.target.checked))}},{key:"onChartTypeSelect",value:function(e){this.setState({changed:!0,chartType:e.target.value})}},{key:"onStatisticModeSelect",value:function(e){this.setState((function(t,n){return{changed:!0,statisticMode:e.value,columns:[],rows:[],possibleFields:t.fields,showTable:!0,showChart:!1}}))}},{key:"updatePossibleFields",value:function(e,t){var n=this.state.fields,a=[].concat(t,"rows"===e?this.state.columns:this.state.rows);return n.filter((function(e){return!a.some((function(t){return e.value==t.value}))}))}},{key:"onFieldSelect",value:function(e,t){var n=t||[];this.setState((function(t,a){var r;return V(r={changed:!0},e,n),V(r,"possibleFields",this.updatePossibleFields(e,n)),r}))}},{key:"updateFieldSettings",value:function(e,t){this.setState(function(n,a){var r=n.fieldSettings,o=n.changed||JSON.stringify(r[e]||"")!==JSON.stringify(t||"");return r[e]=t||void 0,{changed:o,fieldSettings:r}}.bind(this))}},{key:"updateFilters",value:function(e,t){if("update"===e){var n={name:t.target.name,value:t.target.value};this.setState(function(e,t,n,a){var r=n.filters,o=t.name,i=t.value,s=o.split("."),l=s[0],c=s[1];return r[l]&&(r[l][c]=i),{changed:!0,filters:r}}.bind(this,e,n))}"delete"===e&&this.setState(function(e,t,n,a){var r=n.filters;return r.splice(t,1),{changed:!0,filters:r}}.bind(this,e,t)),"add"===e&&this.setState(function(e,t){var n=e.filters;return n.push({field:"",operator:"",filter:""}),{changed:!0,filters:n}}.bind(this))}},{key:"updateName",value:function(e){this.setState({changed:!0,name:e.target.value})}},{key:"updateSharingOptions",value:function(e,t){var n=t||[];this.setState((function(t,a){return V({changed:!0},e,n)}))}},{key:"saveConfiguration",value:function(){var e={showTable:this.state.showTable,showChart:this.state.showChart,chartType:this.state.chartType,selectedDataSource:this.state.selectedDataSource,statisticMode:this.state.statisticMode,rows:this.state.rows,columns:this.state.columns,filters:this.state.filters,fieldSettings:this.state.fieldSettings},t=new URLSearchParams({configId:this.state.configurationId,name:this.state.name,configuration:JSON.stringify(e),sharedUsers:this.state.sharedUsers.map((function(e){return e.value})),sharedRoles:this.state.sharedRoles.map((function(e){return e.value}))});fetch(this.props.saveConfigurationUrl,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t.toString()}).then(m.a).then((function(e){return e.json()})).then(function(e){this.setState({configurationId:e.configurationId,ownerShip:e.ownerShip,changed:!1}),this.loadConfigurationList(),U.b.success("Configuration saved successfully.")}.bind(this)).catch((function(e){console.error(e),U.b.error("Error saving configuration.",{autoClose:!1})}))}},{key:"loadConfigurationList",value:function(){var e=this;fetch(this.props.loadConfigurationListUrl).then(m.a).then((function(e){return e.json()})).then((function(t){e.setState({configurationList:t.options})})).catch((function(e){console.error(e),U.b.error("Error loading saved configurations.",{autoClose:!1})}))}},{key:"loadConfiguration",value:function(){fetch(this.props.loadConfigurationUrl+"?"+new URLSearchParams({configurationId:this.state.selectedConfigurationToLoad.value})).then(m.a).then((function(e){return e.json()})).then(function(e){var t=JSON.parse(e.configuration),n=this.state.otherUsers.roles?this.state.otherUsers.roles.filter((function(t){return e.shares.role&&e.shares.role.includes(t.value)})):[],a=this.state.otherUsers.users?this.state.otherUsers.users.filter((function(t){return e.shares.user&&e.shares.user.includes(t.value)})):[];this.setState({configurationId:e.configurationId,name:e.name,changed:!1,showTable:t.showTable,showChart:t.showChart,chartType:t.chartType,selectedDataSource:t.selectedDataSource,statisticMode:t.statisticMode,rows:t.rows,columns:t.columns,filters:t.filters,fieldSettings:t.fieldSettings,sharedUsers:a,sharedRoles:n,ownerShip:e.ownerShip,selectedConfigurationToLoad:null}),document.body.scrollTop=0,document.documentElement.scrollTop=0}.bind(this)).catch((function(e){console.error(e),U.b.error("Error loading configuration.",{autoClose:!1})}))}},{key:"deleteConfiguration",value:function(){var e=this;fetch(this.props.deleteConfigurationUrl+"?"+new URLSearchParams({configurationId:this.state.configurationId})).then(m.a).then((function(e){return e.json()})).then((function(t){U.b.success("Configuration deleted successfully."),e.resetState()})).catch((function(e){console.error(e),U.b.error("Error deleting configuration.",{autoClose:!1})}))}},{key:"updateConfigurationToLoad",value:function(e){this.setState({selectedConfigurationToLoad:e})}},{key:"componentDidUpdate",value:function(e,t){var n=this,a=!1;this.state.configurationId!==t.configurationId&&(a=!0),(a||this.state.selectedDataSource.value!==t.selectedDataSource.value)&&(this.state.selectedDataSource.value?fetch(this.props.fieldsListUrl+"?"+new URLSearchParams({dataSource:this.state.selectedDataSource.value})).then(m.a).then((function(e){return e.json()})).then((function(e){if(n.setState({fields:e.fields,possibleFields:e.fields,filterOperators:e.operators}),a){var t=e.fields,r=[].concat(n.state.columns,n.state.rows);t=t.filter((function(e){return!r.some((function(t){return e.value==t.value}))})),n.setState({possibleFields:t})}else n.setState({columns:[],rows:[],fieldSettings:{}})})).catch((function(e){console.error(e),U.b.error("Error loading possible fields of data source.",{autoClose:!1})})):this.setState({fields:[],possibleFields:[],filterOperators:[],columns:[],rows:[],fieldSettings:{}}))}},{key:"componentDidMount",value:function(){var e=this;fetch(this.props.dataSourceListUrl).then(m.a).then((function(e){return e.json()})).then((function(t){e.setState({dataSources:t.dataSources,otherUsers:t.otherUsers})})).catch((function(e){console.error(e),U.b.error("Error loading data sources.",{autoClose:!1})})),this.loadConfigurationList()}},{key:"render",value:function(){var e=this,t=[{label:b("lbl_mode_statistic"),value:"statistic"},{label:b("lbl_mode_list"),value:"list"}],n=t.find((function(t){return t.value===e.state.statisticMode}));return r.a.createElement(c.a,null,r.a.createElement(u.a,{xs:12,md:4},r.a.createElement(l.a,null,r.a.createElement(l.a.Header,null,r.a.createElement("span",{className:"align-middle"},b("ttl_configuration")," ",r.a.createElement("strong",null,this.state.name)," ",this.state.changed?"*unsaved*":""),r.a.createElement(f.a,{size:"sm",variant:"outline-secondary",className:"float-right",onClick:this.resetState},b("ttl_start_new"))),r.a.createElement(l.a.Body,null,r.a.createElement(s.a.Group,null,r.a.createElement(s.a.Label,null,b("lbl_datasource")),r.a.createElement(p.a,{options:this.state.dataSources,value:this.state.selectedDataSource,className:"w-100 mr-2",onChange:this.onDataSourceSelect})),this.state.selectedDataSource.value&&r.a.createElement("div",null,r.a.createElement(s.a.Group,null,r.a.createElement(s.a.Label,null,b("lbl_mode")),r.a.createElement(p.a,{options:t,className:"filter-select",classNamePrefix:"filter-select",name:"statisticMode",onChange:this.onStatisticModeSelect,value:n})),"statistic"===this.state.statisticMode&&r.a.createElement(s.a.Group,null,r.a.createElement(s.a.Label,null,b("lbl_rows")),r.a.createElement(k,{options:this.state.possibleFields,isMulti:!0,className:"filter-select",classNamePrefix:"filter-select",name:"rows",placeholder:b("lbl_do_select"),onChange:this.onFieldSelect.bind(this,"rows"),value:this.state.rows})),r.a.createElement(s.a.Group,null,r.a.createElement(s.a.Label,null,b("lbl_columns")),r.a.createElement(k,{options:this.state.possibleFields,isMulti:!0,className:"filter-select",classNamePrefix:"filter-select",name:"columns",placeholder:b("lbl_do_select"),onChange:this.onFieldSelect.bind(this,"columns"),value:this.state.columns})),r.a.createElement(S,{filters:this.state.filters,fields:this.state.fields,filterOperators:this.state.filterOperators,onUpdate:this.updateFilters}),r.a.createElement(G,{selectedDataSource:this.state.selectedDataSource,statisticMode:this.state.statisticMode,rows:this.state.rows.slice(),columns:this.state.columns.slice(),loadFieldSettingsUrl:this.props.loadFieldSettingsUrl,fieldSettings:this.state.fieldSettings,onUpdateSettings:this.updateFieldSettings}),"statistic"===this.state.statisticMode&&r.a.createElement(h.a,{className:"mb-3"},r.a.createElement(l.a,{style:{overflow:"visible"}},r.a.createElement(h.a.Toggle,{as:l.a.Header,eventKey:"0",className:"cursor-pointer small-header"},b("ttl_visualization")),r.a.createElement(h.a.Collapse,{eventKey:"0"},r.a.createElement(l.a.Body,null,r.a.createElement(s.a.Group,null,r.a.createElement(s.a.Check,{type:"switch",id:"show-table",label:b("lbl_show_table"),checked:this.state.showTable,onChange:this.onVisualizationChanges.bind(this,"showTable")})),r.a.createElement(s.a.Group,null,r.a.createElement(s.a.Check,{type:"switch",id:"show-chart",label:b("lbl_show_chart"),checked:this.state.showChart,onChange:this.onVisualizationChanges.bind(this,"showChart")})),this.state.showChart&&r.a.createElement(s.a.Group,null,r.a.createElement(s.a.Label,null,b("lbl_chart_type")),r.a.createElement(s.a.Control,{as:"select",value:this.props.chartType,custom:!0,onChange:this.onChartTypeSelect},r.a.createElement("option",{value:""},b("lbl_chart_type_none")),r.a.createElement("option",{value:"Line"},b("lbl_chart_type_line")),r.a.createElement("option",{value:"Bar"},b("lbl_chart_type_bar")),r.a.createElement("option",{value:"Area"},b("lbl_chart_type_area")),r.a.createElement("option",{value:"Pie"},b("lbl_chart_type_pie")))))))),r.a.createElement(h.a,{className:"mb-3"},r.a.createElement(l.a,{style:{overflow:"visible"}},r.a.createElement(h.a.Toggle,{as:l.a.Header,eventKey:"0",className:"cursor-pointer small-header"},b("ttl_save")),r.a.createElement(h.a.Collapse,{eventKey:"0"},r.a.createElement(l.a.Body,null,r.a.createElement(s.a.Group,null,r.a.createElement(s.a.Label,null,b("lbl_name")),r.a.createElement(s.a.Control,{type:"text",className:"w-100 mr-2",value:this.state.name,onChange:this.updateName})),this.state.otherUsers.users&&"owner"===this.state.ownerShip&&r.a.createElement(s.a.Group,null,r.a.createElement(s.a.Label,null,b("lbl_shared_users")),r.a.createElement(p.a,{options:this.state.otherUsers.users,placeholder:b("lbl_do_select"),className:"filter-select",classNamePrefix:"filter-select",name:"sharedUsers",onChange:this.updateSharingOptions.bind(this,"sharedUsers"),value:this.state.sharedUsers,isMulti:!0})),this.state.otherUsers.roles&&"owner"===this.state.ownerShip&&r.a.createElement(s.a.Group,null,r.a.createElement(s.a.Label,null,b("lbl_shared_roles")),r.a.createElement(p.a,{options:this.state.otherUsers.roles,className:"filter-select",classNamePrefix:"filter-select",placeholder:b("lbl_do_select"),name:"sharedRoles",onChange:this.updateSharingOptions.bind(this,"sharedRoles"),value:this.state.sharedRoles,isMulti:!0})),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("span",{className:"align-middle mr-auto"},"owner"===this.state.ownerShip&&r.a.createElement("a",{className:"text-danger",href:"#",onClick:this.deleteConfiguration},b("btn_delete")),"userShared"===this.state.ownerShip&&r.a.createElement("a",{className:"text-danger",href:"#",onClick:this.deleteConfiguration},b("btn_unshare"))),r.a.createElement(f.a,{className:"",variant:"primary",disabled:!this.state.changed||this.state.name.length<1,onClick:this.saveConfiguration},"owner"===this.state.ownerShip?b("btn_save_configuration"):b("btn_save_copy")," "))))))))),r.a.createElement(l.a,{className:"mt-3"},r.a.createElement(l.a.Header,null,b("ttl_load_existing")),r.a.createElement(l.a.Body,null,r.a.createElement(s.a.Group,null,r.a.createElement("div",{className:"d-flex flex-row"},r.a.createElement(p.a,{options:this.state.configurationList,onChange:this.updateConfigurationToLoad,className:"w-100 mr-2",placeholder:b("lbl_do_select"),value:this.state.selectedConfigurationToLoad}),r.a.createElement(f.a,{variant:"outline-primary",onClick:this.loadConfiguration},b("btn_load")))),r.a.createElement("hr",null)))),r.a.createElement(u.a,{xs:12,md:8},r.a.createElement(l.a,null,r.a.createElement(l.a.Header,null,b("ttl_preview")),r.a.createElement(l.a.Body,null,r.a.createElement(d.a,{configurationId:this.state.configurationId,showTable:this.state.showTable,showChart:this.state.showChart,chartType:this.state.chartType,dataUrl:this.props.resultDataUrl,selectedDataSource:this.state.selectedDataSource,statisticMode:this.state.statisticMode,rows:this.state.rows,columns:this.state.columns,filters:this.state.filters,fieldSettings:this.state.fieldSettings})))))}}])&&W(t.prototype,n),a&&W(t,a),i}(r.a.Component),te=(n("IgdK"),document.getElementById("statistics-explorer")),ne=window.statisticsExplorerConfig||{},ae=!0,re=0,oe=["dataSourceListUrl","fieldsListUrl","resultDataUrl","loadFieldSettingsUrl","loadConfigurationListUrl","saveConfigurationUrl","loadConfigurationUrl","deleteConfigurationUrl","translationsUrl"];re<oe.length;re++){var ie=oe[re];ne[ie]||(console.error("Missing config option `"+ie+"`."),U.b.error("Missing config option `"+ie+"`."),ae=!1)}var se=null;se=ae?r.a.createElement("div",null,r.a.createElement(ee,{dataSourceListUrl:ne.dataSourceListUrl,fieldsListUrl:ne.fieldsListUrl,resultDataUrl:ne.resultDataUrl,loadFieldSettingsUrl:ne.loadFieldSettingsUrl,loadConfigurationListUrl:ne.loadConfigurationListUrl,saveConfigurationUrl:ne.saveConfigurationUrl,loadConfigurationUrl:ne.loadConfigurationUrl,deleteConfigurationUrl:ne.deleteConfigurationUrl}),r.a.createElement(U.a,{limit:5})):r.a.createElement("div",null,r.a.createElement(U.a,{limit:5})),i.a.render(se,te)},"vz/u":function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));n("TeQF");var a=n("q1tI"),r=n.n(a),o=(n("4mDm"),n("2B1R"),n("wLYn"),n("sMBO"),n("NBAS"),n("ExoC"),n("07d7"),n("5s+n"),n("PKPk"),n("3bBZ"),n("R5XZ"),n("Kz25"),n("wlN6")),i=n("WM5q"),s=n("4XXU");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=d(e);if(t){var r=d(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}
/**
 * Pimcore
 *
 * This source file is available under following license:
 * - Pimcore Enterprise License (PEL)
 *
 *  @copyright  Copyright (c) Pimcore GmbH (http://www.pimcore.org)
 *  @license    http://www.pimcore.org/license     PEL
 */var p=["#a50026","#d73027","#f36d42","#fbae61","#fee090","#abd9e9","#74acd0","#4576b5","#08306b","#54278f","#7a0177","#c994c7","#a1d99b","#41ab5d","#238b45","#00441b"],m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(h,e);var t,n,a,l=f(h);function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=l.call(this,e)).isLoading=!1,t.state={error:null,isLoaded:!1,showLoadingSpinner:!1,chart:{data:[],columnHeaders:[]}},t}return t=h,(n=[{key:"loadData",value:function(e,t,n,a,r,o,s){this.isLoading&&this.controller.abort(),this.isLoading=!0,this.controller=new AbortController,this.signal=this.controller.signal;var l=e.map((function(e){return e.value})),c=t.map((function(e){return e.value}));if(l.length>0){this.setState({showLoadingSpinner:!0});var u=new URLSearchParams({rows:l,columns:c,dataSource:r.value,fieldSettings:a,filters:o,configurationId:s,chartData:!0});this.loadingTimeout&&clearTimeout(this.loadingTimeout),this.loadingTimeout=setTimeout(function(){var e=this;fetch(n+"?"+u,{signal:this.signal}).then(i.a).then((function(e){return e.json()})).then((function(t){var n={chart:{data:t.data,columnHeaders:t.columnHeaders},showLoadingSpinner:!1};e.setState(n)})).catch((function(t){console.error(t),"AbortError"!==t.name&&e.setState({chart:{data:[],columnHeaders:[]},showLoadingSpinner:!1}),e.isLoading=!1}))}.bind(this),800)}else this.setState({chart:{data:[],columnHeaders:[]},showLoadingSpinner:!1})}},{key:"componentDidMount",value:function(){this.loadData(this.props.rows,this.props.columns,this.props.dataUrl,this.props.fieldSettings,this.props.selectedDataSource,this.props.filters,this.props.configurationId)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.columns===e.columns&&this.props.rows===e.rows&&this.props.fieldSettings===e.fieldSettings&&this.props.filters===e.filters&&this.props.selectedDataSource.value===e.selectedDataSource.value||this.loadData(this.props.rows,this.props.columns,this.props.dataUrl,this.props.fieldSettings,this.props.selectedDataSource,this.props.filters,this.props.configurationId)}},{key:"renderChart",value:function(){return"Line"===this.props.chartType?this.renderChartTypeLine():"Bar"===this.props.chartType?this.renderChartTypeBar():"Area"===this.props.chartType?this.renderChartTypeArea():"Pie"===this.props.chartType?this.renderChartTypePie():null}},{key:"renderChartTypeLine",value:function(){return r.a.createElement(s.i,{data:this.state.chart.data},r.a.createElement(s.e,{strokeDasharray:"3 3"}),this.state.chart.columnHeaders.map((function(e,t){return r.a.createElement(s.h,{key:t,name:e.label,dataKey:e.dataKey,stroke:p[t]})})),r.a.createElement(s.n,{dataKey:"label"}),r.a.createElement(s.o,null),r.a.createElement(s.m,null),r.a.createElement(s.e,{strokeDasharray:"3 3"}),r.a.createElement(s.g,null))}},{key:"renderChartTypeBar",value:function(){return r.a.createElement(s.d,{data:this.state.chart.data},r.a.createElement(s.e,{strokeDasharray:"3 3"}),r.a.createElement("defs",null,this.state.chart.columnHeaders.map((function(e,t){return r.a.createElement("linearGradient",{key:t,id:"color"+t%p.length,x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"10%",stopColor:p[t%p.length],stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:p[t%p.length],stopOpacity:.1}))}))),this.state.chart.columnHeaders.map((function(e,t){return r.a.createElement(s.c,{key:t,name:e.label,dataKey:e.dataKey,stroke:p[t%p.length],fillOpacity:1,fill:"url(#color".concat(t%p.length,")")})})),r.a.createElement(s.n,{dataKey:"label"}),r.a.createElement(s.o,null),r.a.createElement(s.m,{cursor:{fill:"transparent"}}),r.a.createElement(s.g,null))}},{key:"renderChartTypeArea",value:function(){return r.a.createElement(s.b,{data:this.state.chart.data},r.a.createElement(s.e,{strokeDasharray:"3 3"}),r.a.createElement("defs",null,this.state.chart.columnHeaders.map((function(e,t){return r.a.createElement("linearGradient",{key:t,id:"color"+t%p.length,x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"10%",stopColor:p[t%p.length],stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:p[t%p.length],stopOpacity:.1}))}))),this.state.chart.columnHeaders.map((function(e,t){return r.a.createElement(s.a,{key:t,name:e.label,type:"monotone",dataKey:e.dataKey,stroke:p[t%p.length],fillOpacity:1,fill:"url(#color".concat(t%p.length,")")})})),r.a.createElement(s.n,{dataKey:"label"}),r.a.createElement(s.o,null),r.a.createElement(s.m,null),r.a.createElement(s.g,null))}},{key:"renderChartTypePie",value:function(){var e=this,t=function(e){var t=e.index,n=e.x,a=e.y,o=e.midAngle,i=e.value,s="bottom",l=o<80||o>280?"start":"end",c=n,u=a;return(o>=80&&o<=100||o>=260&&o<=280)&&(l="middle"),o>=260&&o<=280&&(u+=15),(o>=340||o<=20||o>=160&&o<=200)&&(s="central"),r.a.createElement("text",{x:c,y:u,fill:p[t%p.length],alignmentBaseline:s,textAnchor:l},i)};return r.a.createElement(s.k,null,r.a.createElement("defs",null,this.state.chart.data.map((function(e,t){return r.a.createElement("linearGradient",{key:t,id:"color"+t%p.length,x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:p[t%p.length],stopOpacity:1}),r.a.createElement("stop",{offset:"95%",stopColor:p[t%p.length],stopOpacity:.5}))}))),this.state.chart.columnHeaders.map((function(n,a){return r.a.createElement(s.j,{key:a,data:e.state.chart.data,dataKey:n.dataKey,nameKey:"value"===n.dataKey?"label":n.dataKey+"__label",label:t,startAngle:45,endAngle:405},e.state.chart.data.map((function(e,t){return r.a.createElement(s.f,{key:"cell-".concat(t),fillOpacity:1,fill:"url(#color".concat(t%p.length,")")})})))})),r.a.createElement(s.m,null),r.a.createElement(s.g,null))}},{key:"render",value:function(){if(this.props.chartType){if(this.state.showLoadingSpinner)return r.a.createElement(o.a,null);if(this.state.chart.data)return this.state.chart.data.length<1?r.a.createElement("div",{className:"alert alert-warning",role:"alert"},"No results for chart."):r.a.createElement("div",null,r.a.createElement(s.l,{height:400},this.renderChart()))}return null}}])&&c(t.prototype,n),a&&c(t,a),h}(r.a.Component);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=E(e);if(t){var r=E(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}
/**
 * Pimcore
 *
 * This source file is available under following license:
 * - Pimcore Enterprise License (PEL)
 *
 *  @copyright  Copyright (c) Pimcore GmbH (http://www.pimcore.org)
 *  @license    http://www.pimcore.org/license     PEL
 */var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(l,e);var t,n,a,s=v(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).isLoading=!1,t.state={content:"",showLoadingSpinner:!1},t}return t=l,(n=[{key:"loadData",value:function(e,t,n,a,r,o,s,l){this.isLoading&&this.controller.abort(),this.isLoading=!0,this.controller=new AbortController,this.signal=this.controller.signal;var c=n.map((function(e){return e.value})),u=a.map((function(e){return e.value}));if("statistic"===t&&c.length>0||"list"===t&&u.length>0){this.setState({showLoadingSpinner:!0}),this.loadingTimeout&&clearTimeout(this.loadingTimeout);var f=new URLSearchParams({dataSource:e.value,statisticMode:t,rows:c,columns:u,fieldSettings:o,configurationId:l,filters:s});this.loadingTimeout=setTimeout(function(){var e=this;fetch(r+"?"+f,{signal:this.signal}).then(i.a).then((function(e){return e.text()})).then((function(t){e.setState({content:t,showLoadingSpinner:!1}),e.isLoading=!1})).catch((function(t){if("AbortError"!==t.name){var n='<div class="alert alert-warning" role="alert">'+t+"</div>";e.setState({content:n,showLoadingSpinner:!1})}e.isLoading=!1}))}.bind(this),800)}else this.setState({content:"",showLoadingSpinner:!1})}},{key:"componentDidMount",value:function(){this.loadData(this.props.selectedDataSource,this.props.statisticMode,this.props.rows,this.props.columns,this.props.dataUrl,this.props.fieldSettings,this.props.filters,this.props.configurationId)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.columns===e.columns&&this.props.rows===e.rows&&this.props.fieldSettings===e.fieldSettings&&this.props.filters===e.filters&&this.props.selectedDataSource.value===e.selectedDataSource.value&&this.props.statisticMode===e.statisticMode||this.loadData(this.props.selectedDataSource,this.props.statisticMode,this.props.rows,this.props.columns,this.props.dataUrl,this.props.fieldSettings,this.props.filters,this.props.configurationId)}},{key:"render",value:function(){return this.state.showLoadingSpinner?r.a.createElement(o.a,null):r.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.content}})}}])&&g(t.prototype,n),a&&g(t,a),l}(r.a.Component);
/**
 * Pimcore
 *
 * This source file is available under following license:
 * - Pimcore Enterprise License (PEL)
 *
 *  @copyright  Copyright (c) Pimcore GmbH (http://www.pimcore.org)
 *  @license    http://www.pimcore.org/license     PEL
 */
function C(e){return r.a.createElement("div",null,e.showChart&&e.chartType&&r.a.createElement("div",{className:e.showTable?"mb-5":""},r.a.createElement(m,{configurationId:e.configurationId,dataUrl:e.dataUrl,selectedDataSource:e.selectedDataSource,rows:e.rows,columns:e.columns,filters:JSON.stringify((t=e.filters,t.filter((function(e){return e.field&&e.operator})))),fieldSettings:JSON.stringify(e.fieldSettings),chartType:e.chartType})),e.showTable&&r.a.createElement("div",null,r.a.createElement(w,{configurationId:e.configurationId,dataUrl:e.dataUrl,selectedDataSource:e.selectedDataSource,statisticMode:e.statisticMode,rows:e.rows,columns:e.columns,filters:JSON.stringify(e.filters),fieldSettings:JSON.stringify(e.fieldSettings)})));var t}},wlN6:function(e,t,n){"use strict";n("NBAS"),n("ExoC");var a=n("q1tI"),r=n.n(a);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=f(e);if(t){var r=f(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}
/**
 * Pimcore
 *
 * This source file is available under following license:
 * - Pimcore Enterprise License (PEL)
 *
 *  @copyright  Copyright (c) Pimcore GmbH (http://www.pimcore.org)
 *  @license    http://www.pimcore.org/license     PEL
 */var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,a,o=c(u);function u(){return i(this,u),o.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"lds-ripple"},r.a.createElement("div",null),r.a.createElement("div",null)))}}])&&s(t.prototype,n),a&&s(t,a),u}(r.a.Component);t.a=h},z7dE:function(e,t,n){}},[["nb4v","runtime",0,1]]]);